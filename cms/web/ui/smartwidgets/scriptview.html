<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Save Script</title>
    <style>
        body {
            background-color: #818181;
            height: 100vh;
            width: 100vw;
            margin: 0;
        }
        textarea {
            height: 88vh;
            width: 98vw;
            resize: none;
        }
        button {
            background-color: #59C8E6;
            color: white;
            border: 1px solid #94e7fd;
            border-radius: 5px;
            padding: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #94e7fd;
        }
    </style>
</head>
<body>
    <textarea id="script-code" cols="66" rows="16" spellcheck="false"></textarea>
    <button id="save-script">Save</button>
    <script>
        document.getElementById('script-code').value = window.opener.getScript();
        document.getElementById('save-script').addEventListener('click', function() {
            window.opener.saveScript(document.getElementById('script-code').value);
            window.opener.closeScriptWindow();
        });
    </script>
</body>
</html>
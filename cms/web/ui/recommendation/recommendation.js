var rvtsRecoCode=30;function rvtsPushRecoGaEvent(e,t){var n="";0==e&&(n="Reco - "+t+" - View"),1==e&&(n="Reco - "+t+" - Click"),"function"==typeof ga?0==e?ga.getAll()[0].send("event","Revotas",n,{nonInteraction:!0}):ga.getAll()[0].send("event","Revotas",n):"function"==typeof gtag&&(0==e?gtag("event","play",{eventCategory:"Revotas",eventLabel:n,non_interaction:!0}):gtag("event","play",{eventCategory:"Revotas",eventLabel:n}))}"undefined"!=typeof rvtsRecoPreviewMode||void 0!==window.rvtsUTMTrackerAdded&&window.rvtsUTMTrackerAdded!==rvtsRecoCode||(!function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async="true",t.src="https://revocdn.revotas.com/trc/api/rvts_tracker.js",e.parentNode.insertBefore(t,e)}(),window.rvtsUTMTrackerAdded=rvtsRecoCode),"undefined"!=typeof rvtsRecoPreviewMode||void 0!==window.rvtsOrderTrackerAdded&&window.rvtsOrderTrackerAdded!==rvtsRecoCode||(!function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async="true",t.src="https://revocdn.revotas.com/trc/api/rvts_order_tracker.js",e.parentNode.insertBefore(t,e)}(),window.rvtsOrderTrackerAdded=rvtsRecoCode),"undefined"!=typeof rvtsRecoPreviewMode||void 0!==window.rvtsActivityTrackerAdded&&window.rvtsActivityTrackerAdded!==rvtsRecoCode||(!function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async="true",t.src="https://revocdn.revotas.com/trc/api/rvts_activity_tracker.js",e.parentNode.insertBefore(t,e)}(),window.rvtsActivityTrackerAdded=rvtsRecoCode);var hname=window.location.hostname,recommendationIntervalList=[],resizeFuncList=[];hname="www"==hname.substr(0,3)?hname.substring(3,hname.length):"."+hname;var queryList={50:"rvts_top_seller",60:"rvts_price_drop",70:"rvts_new_product",80:"rvts_back_in_stock",90:"rvts_buy_also",100:"rvts_similar",110:"rvts_you_might",120:"rvts_view_also",130:"rvts_recently",140:"rvts_trending",150:"rvts_bought_together"},typeList={50:"topseller",60:"pricedrop",70:"newproduct",80:"backinstock",90:"buyalso",100:"similar",110:"youmight",120:"viewalso",130:"recently",140:"trending",150:"boughttogether"};function generateSessionId(){return[...Array(30)].map((e=>(~~(36*Math.random())).toString(36))).join("")}"undefined"==typeof rvtsRecoProcessingIdList&&(window.rvtsRecoProcessingIdList=[]);var rvtsSessionId=null,swSessionIdResolver=null,swSessionId=new Promise(((e,t)=>{swSessionIdResolver=e,sessionStorage.getItem("rvts_session_id")&&e(sessionStorage.getItem("rvts_session_id"))}));swSessionId.then((function(e){rvtsSessionId=e,sessionStorage.setItem("rvts_session_id",e)}));var rvtsSessionIdSet=!1;window.addEventListener("storage",(function(e){if("get_rvts_session_id"===e.key&&e.newValue){var t=sessionStorage.getItem("rvts_session_id");t&&(localStorage.setItem("rvts_local_session_id",t),localStorage.removeItem("rvts_local_session_id"))}"rvts_local_session_id"===e.key&&e.newValue&&!rvtsSessionIdSet&&(sessionStorage.setItem("rvts_session_id",e.newValue),rvtsSessionIdSet=!0,swSessionIdResolver(e.newValue))})),localStorage.setItem("get_rvts_session_id","get"),localStorage.removeItem("get_rvts_session_id"),setTimeout((()=>{swSessionIdResolver(generateSessionId())}),250);var custId=rvtsRecommendationObj.rvts_customer_id;function rcGetCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function rcSetCookie(e,t,n,i){var r="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+r+";domain="+i+"; path=/"}function saveRecoSource(e){rcSetCookie("revotas_source","other",7,hname),rcSetCookie("revotas_medium","reco",7,hname),rcSetCookie("revotas_campaign",e,7,hname)}function saveProductToCookie(e){var t=new URL(e.link);e.link=t.href.split(t.search).join(""),e.date=new Date;var n,i="rvts_product_history_array",r=decodeURIComponent(rcGetCookie(i));(r?(localStorage.setItem(i,encodeURIComponent(r)),rcSetCookie(i,"",-1,hname)):r=localStorage.getItem(i)?decodeURIComponent(localStorage.getItem(i)):null,r)?(0==(n=JSON.parse(r)).filter((function(t){return t[0].p_id==e.p_id})).length?n.unshift([e]):n=n.map((function(t){return t[0].p_id==e.p_id?[e]:t})),n.length>10&&(n.length=10),localStorage.setItem(i,encodeURIComponent(JSON.stringify(n)))):((n=[]).push([e]),localStorage.setItem(i,encodeURIComponent(JSON.stringify(n))))}function getProductsFromCookie(){var e="rvts_product_history_array",t=decodeURIComponent(rcGetCookie(e));return t?(localStorage.setItem(e,encodeURIComponent(t)),rcSetCookie(e,"",-1,hname)):t=localStorage.getItem(e)?decodeURIComponent(localStorage.getItem(e)):null,t?(t=(t=JSON.parse(t)).filter((function(e){if(e[0].date){var t=new Date(e[0].date),n=new Date;return Math.round((n.getTime()-t.getTime())/36e5)<24}return!1})),t.sort(((e,t)=>t[0].date-e[0].date)),localStorage.setItem(e,encodeURIComponent(JSON.stringify(t))),t):[]}if(function(){var e=!1,t="rvts_product_history_array",n=rcGetCookie(t);if(n){var i=null;try{i=decodeURIComponent(n)}catch(e){i=n}var r=JSON.parse(i);r=r.map((t=>{var n=t[0],i=n.image_link.indexOf("https:",1);return i>0&&(e=!0,n.image_link=n.image_link.substring(i,n.image_link.length)),t})),e?rcSetCookie(t,encodeURIComponent(JSON.stringify(r)),10,hname):i===n&&rcSetCookie(t,encodeURIComponent(n),10,hname)}}(),window.PRODUCT_DATA&&1==PRODUCT_DATA.length){var currentProduct=PRODUCT_DATA[0],product={};product.p_id=currentProduct.id,product.category_id=currentProduct.category_ids,product.name=currentProduct.name,product.image_link=currentProduct.image,product.product_price=currentProduct.total_base_price.toFixed(2)+" "+currentProduct.currency,product.product_sales_price=currentProduct.total_sale_price.toFixed(2)+" "+currentProduct.currency,product.link=window.location.href,window.rvtsRecoCurrentProduct=product,window.rvtsRecoCurrentProduct.stockCount=currentProduct.quantity,saveProductToCookie(product)}else if(window.productDetailModel){var currentProduct=productDetailModel,product={},currency=currentProduct.productCurrency,onSales=currentProduct.product.indirimliFiyati>0,sales_price=currentProduct.product.indirimliFiyatiStr?currentProduct.product.indirimliFiyatiStr.split(".").join("").split(",").join(".").split("TL").join(currency):null,price=currentProduct.product.satisFiyatiStr?currentProduct.product.satisFiyatiStr.split(".").join("").split(",").join(".").split("TL").join(currency):null;product.p_id=currentProduct.productId,product.category_id=currentProduct.productCategoryId,product.name=currentProduct.productName,product.image_link=(0!==currentProduct.productImages[0].imagePath.indexOf("https:")?window.location.origin:"")+currentProduct.productImages[0].imagePath,onSales&&(product.product_sales_price=sales_price),product.product_price=price,product.link=window.location.href,window.rvtsRecoCurrentProduct=product,window.rvtsRecoCurrentProduct.stockCount=currentProduct.totalStockAmount,saveProductToCookie(product)}else if(document.querySelectorAll(".analytics-data").length>1&&void 0!==JSON.parse(document.querySelectorAll(".analytics-data")[1].innerHTML).productDetail){var currentProduct=JSON.parse(document.querySelectorAll(".analytics-data")[1].innerHTML).productDetail.data,product={};product.p_id=currentProduct.dimension8,product.category_id=currentProduct.category,product.name=currentProduct.name,product.image_link=currentProduct.dimension19,product.product_price=currentProduct.price.toFixed(2)+" TL",product.link=window.location.href,parseFloat(currentProduct.dimension16.trim())>0&&(product.product_sales_price=product.product_price,product.product_price=parseFloat(currentProduct.dimension16.trim()).toFixed(2)+" TL"),window.rvtsRecoCurrentProduct=product,saveProductToCookie(product)}function saveActivity(e,t,n,i){if("undefined"==typeof rvtsRecoPreviewMode){var r=rcGetCookie("revotas_web_push_user"),o=rcGetCookie("rvts_token"),a="string"==typeof email&&email?email:null;a||(a=rcGetCookie("rvts_email"));var l="cust_id="+custId+"&recommendation_type="+t+"&url="+window.location.href+"&user_agent="+navigator.userAgent+"&activity_type="+e+"&session_id="+rvtsSessionId+"&campaign_id="+n;r&&(l+="&user_id="+r),o&&(l+="&token="+o),a&&(l+="&email="+a),fetch("https://f.revotas.com/frm/recommendation/save_recommendation_activity.jsp?"+l),rvtsPushRecoGaEvent(e,i),"1"==e&&saveRecoSource(n)}}function renderVerticalPreview(e,t,n,i,r,o,a,l,c,s,d,u){var p=n,m=r.split(" ").map((function(e){return"<div>"+e+"</div>"})),v=e.length,h=Math.floor(p/92)-1;if(h>v&&(h=v),a.setSize(h,"vertical"),!a.getRefresh()&&a.getElement())return a.getElement().style.height=p+"px",a.getElement().children[0].children[1]&&(a.getElement().children[0].children[1].style.height=p-16*m.length+"px"),a.getElement();var f=document.createElement("div");return f.style.height=p+"px",f.style.width="100%",f.style.position="relative",f.style.overflow="hidden",f.innerHTML='<div style="position: absolute; width: 100%;"></div>',f.children[0].innerHTML='<div style="background-color:black;color:white;width: 100%; line-height: 16px; font-size: 13px; text-align:center; top: 0;" class="'+i+'_preview_title">'+m.join("")+'</div><div style="align-items:center;display: flex; flex-direction: column; height: '+(p-16*m.length)+'px; justify-content: space-evenly;"> </div>',e.forEach((function(e,t){if(t<h){var n=document.createElement("div");n.style.border="1px solid black",n.style.height="80px",n.style.width="auto",n.style.cursor="pointer",n.classList.add(i+"_preview_image");var r=document.createElement("img");n.appendChild(r),r.src=e.image_link,r.style.height="100%",r.style.width="auto",t<h-1&&(n.style.marginBottom="10px"),f.children[0].children[1].appendChild(n),n.addEventListener("click",(function(){var t=e.link;0==d?window.open(t,"_self"):window.open(t+(t.includes("?utm_source=revotas&utm_medium=reco&utm_campaign=")?"":"?utm_source=revotas&utm_medium=reco&utm_campaign="+typeList[o]),"_self"),saveActivity(1,o,c,s)}))}})),a.getElement()&&a.getElement().remove(),a.setElement(f,"vertical"),u.parentElement.insertBefore(f,u),f}function renderHorizontalPreview(e,t,n,i,r,o,a,l,c,s,d,u){var p=t,m=e.length,v=Math.floor(p/92);if(v>m&&(v=m),a.setSize(v,"horizontal"),!a.getRefresh()&&a.getElement())return a.getElement().style.width=p+"px",a.getElement().style.height=n+"px",a.getElement().children[0].children[1]&&(a.getElement().children[0].children[1].style.width=p+"px"),a.getElement();var h=document.createElement("div");return h.style.width=p+"px",h.style.height=n+"px",h.style.position="relative",h.style.overflow="hidden",h.innerHTML='<div style="position: absolute; height: 100%;"><div class="'+i+'_preview_title" style="background-color:black;color:white;position: absolute; top: 0;width:100%;display:flex;justify-content:center;">'+r+'</div> <div style="height: 100%; align-items: center; display: flex; flex-direction: row; width: '+p+'px; justify-content: space-evenly;"> </div> </div>',h.children[0].children[1].innerHTML="",e.forEach((function(e,t){if(t<v){var n=document.createElement("div");n.style.border="1px solid black",n.style.height="80px",n.style.width="auto",n.style.cursor="pointer",n.classList.add(i+"_preview_image");var r=document.createElement("img");n.appendChild(r),r.src=e.image_link,r.style.height="100%",r.style.width="auto",t<v-1&&(n.style.marginRight="10px"),h.children[0].children[1].appendChild(n),n.addEventListener("click",(function(){var t=e.link;0==d?window.open(t,"_self"):window.open(t+(t.includes("?utm_source=revotas&utm_medium=reco&utm_campaign=")?"":"?utm_source=revotas&utm_medium=reco&utm_campaign="+typeList[o]),"_self"),saveActivity(1,o,c,s)}))}})),a.getElement()&&a.getElement().remove(),a.setElement(h,"horizontal"),u.parentElement.insertBefore(h,u),h}async function fillContainer(mainDiv,contentList,title,type,fallbackType,contSize,selector,campaignId,campaignName,currencyConfig,campAddToCart,addToCartScript,productScript,appendUTM,userId,rcpLink){if("undefined"==typeof rvtsRecoPreviewMode){if(rvtsRecoProcessingIdList.includes(campaignId))return void console.warn("Recommendation: "+campaignId+" is already being processed");rvtsRecoProcessingIdList.push(campaignId)}if("null"!=fallbackType&&0!=fallbackType&&contentList&&contentList.length<5){var fallbackProducts=await getCampaignProducts(fallbackType,userId,null,null,rcpLink,null,null,null);contentList=contentList.concat(fallbackProducts),contentList=contentList.slice(0,10)}function isMobile(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((e=>navigator.userAgent.match(e)))}var mobile=isMobile();currencyConfig&&"null"!==currencyConfig&&(currencyConfig=currencyConfig.filter((e=>1==e.active))[0]),"null"===currencyConfig&&(currencyConfig=null);var insideDiv=!1,previewObj=(element=null,size=0,refresh=!0,elementType="none",{setSize:function(e,t){refresh=size!==e||elementType!==t,size=e,elementType=t},setElement:function(e,t){refresh=elementType!==t,element=e,elementType=t},getElement:function(){return element},getRefresh:function(){return refresh}}),element,size,refresh,elementType,containerSize,elementWidth,marginWidth,leftButtonWidth,rightButtonWidth,headerWidth;function numberToFixed(e,t){var n=(e=e.toString()).indexOf(".");if(-1!==n)if(0==t)e=e.substring(0,n);else{var i=(e=e.split("").filter(((e,i)=>n+t>=i)).join("")).length-n-1;t>i&&(e=e.concat(Array.apply(null,Array(t-i)).map(Number.prototype.valueOf,0).join("")))}else t>0&&(e=(e=e.concat(["."])).concat(Array.apply(null,Array(t)).map(Number.prototype.valueOf,0).join("")));return e}function formatCurrency(e,t){var n=e;try{e=(e=(e=e.toString()).replace(/[^0-9.,]/g,"")).split(",").join("."),e=parseFloat(e);var i=t.format.indexOf(","),r=t.format.indexOf("."),o=i<r?",":".",a=i<r?".":",";-1!==i&&-1!==r||(o="");var l=2===(e=numberToFixed(e,t.format.length-t.format.indexOf(a)-1)).split(".").length?e.split("."):e.split(","),c=l[0],s=l[1]?l[1]:"",d=(c=c.split("").reverse().map(((e,t,n)=>(t+1)%3==0&&n.length>t+1?o+e:e)).reverse().join(""))+(s?a+s:"");return d="EN"===t.language?t.currency+d:d+" "+t.currency}catch(e){return n}}if(!mainDiv)throw new Error("Invalid query selector: "+selector);if(!contentList||0==contentList.length)throw new Error("Empty list");document.addEventListener("mousemove",(function(e){var t=mainDiv.getBoundingClientRect(),n=t.left,i=t.top,r=t.width,o=t.height,a=e.clientX-n,l=e.clientY-i;insideDiv=a>=0&&a<=r&&l>=0&&l<=o}));var animationStyle=document.createElement("style");animationStyle.innerHTML=".lds-grid { display: inline-block; position: relative; width: 80px; height: 80px; } .lds-grid div { position: absolute; width: 16px; height: 16px; border-radius: 50%; background: #ff6600; animation: lds-grid 1.2s linear infinite; } .lds-grid div:nth-child(1) { top: 8px; left: 8px; animation-delay: 0s; } .lds-grid div:nth-child(2) { top: 8px; left: 32px; animation-delay: -0.4s; } .lds-grid div:nth-child(3) { top: 8px; left: 56px; animation-delay: -0.8s; } .lds-grid div:nth-child(4) { top: 32px; left: 8px; animation-delay: -0.4s; } .lds-grid div:nth-child(5) { top: 32px; left: 32px; animation-delay: -0.8s; } .lds-grid div:nth-child(6) { top: 32px; left: 56px; animation-delay: -1.2s; } .lds-grid div:nth-child(7) { top: 56px; left: 8px; animation-delay: -0.8s; } .lds-grid div:nth-child(8) { top: 56px; left: 32px; animation-delay: -1.2s; } .lds-grid div:nth-child(9) { top: 56px; left: 56px; animation-delay: -1.6s; } @keyframes lds-grid { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }",mainDiv.appendChild(animationStyle),mainDiv.style.display="flex",mainDiv.style.alignItems="center",mainDiv.style.justifyContent="center";var styles=mainDiv.querySelectorAll("style");mainDiv.innerHTML='<div class="lds-grid"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>',styles.forEach((e=>mainDiv.appendChild(e)));var cssPromise=new Promise((function(e,t){!function t(){var n=document.createElement("div");n.classList.add(selector+"_buttons__left");var i=document.createElement("div");i.classList.add(selector+"_buttons__right");var r=document.createElement("div");r.classList.add(selector+"-header"),r.innerHTML=title,r.style.position="fixed",r.style.visibility="hidden",r.style.width="auto",n.style.position="fixed",i.style.position="fixed",n.style.visibility="hidden",i.style.visibility="hidden",n.innerHTML="<img>",i.innerHTML="<img>",mainDiv.appendChild(n),mainDiv.appendChild(i),mainDiv.appendChild(r);var o=document.createElement("div");o.classList.add(selector+"-container__element"),o.style.display="none",mainDiv.appendChild(o),elementWidth=parseInt(getComputedStyle(o).width),marginWidth=parseInt(getComputedStyle(o).marginLeft),leftButtonWidth=n.getBoundingClientRect().width,rightButtonWidth=i.getBoundingClientRect().width,headerWidth=r.getBoundingClientRect().width,o.remove(),n.remove(),i.remove(),r.remove(),0==marginWidth||0==leftButtonWidth||0==rightButtonWidth?setTimeout(t,500):e()}()}));cssPromise.then((function(){mainDiv.style="";var styles=mainDiv.querySelectorAll("style");mainDiv.innerHTML="",styles.forEach((e=>mainDiv.appendChild(e))),animationStyle.remove();var shiftWidth=elementWidth+marginWidth,elementList=[],headerDiv=document.createElement("div");headerDiv.classList.add(selector+"-header"),headerDiv.innerHTML=title;var containerDiv=document.createElement("div");containerDiv.classList.add(selector+"-container"),containerDiv.style.left="0px";var flexDiv=document.createElement("div");flexDiv.classList.add(selector+"-container__flex"),contentList.forEach((function(element,index,orgArr){var elementDiv=document.createElement("a");elementDiv.style.color="black",elementDiv.href=0==appendUTM?element.link:element.link+(element.link.includes("?utm_source=revotas&utm_medium=reco&utm_campaign=")?"":"?utm_source=revotas&utm_medium=reco&utm_campaign="+typeList[type]),elementDiv.addEventListener("mouseup",(function(){saveActivity(1,type,campaignId,campaignName)})),elementDiv.classList.add(selector+"-container__element"),0==index?(elementDiv.classList.add("current"),elementDiv.style.marginLeft="0"):index==orgArr.length-1&&(elementDiv.style.marginRight="0"),1==orgArr.length&&(elementDiv.style.marginRight="0"),flexDiv.appendChild(elementDiv),elementList.push(elementDiv);var imageDiv=document.createElement("div");imageDiv.classList.add(selector+"-container__element_image"),elementDiv.appendChild(imageDiv);var image=document.createElement("img");if(image.src=element.image_link,imageDiv.appendChild(image),1==campAddToCart){var cartImage=document.createElement("img");cartImage.src="https://revocdn.revotas.com/trc/recommendation/addtocart.png",cartImage.classList.add(selector+"-add_to_cart_button"),cartImage.style.width="auto",cartImage.style.height="40px",cartImage.style.position="absolute",cartImage.style.left="10px",cartImage.style.top="5px",cartImage.style.cursor="pointer",imageDiv.appendChild(cartImage),cartImage.addEventListener("click",(function(){eval("(function(productId){"+addToCartScript+"})(element.p_id);")}));var cartStyle=document.createElement("style");cartStyle.innerHTML="."+selector+"-add_to_cart_button:hover {box-shadow: 0 0 10px 1px grey; border-radius: 4px;}",mainDiv.appendChild(cartStyle)}var name=document.createElement("div");name.classList.add(selector+"-container__element_name"),element.product_sales_price&&element.product_sales_price!=element.product_price||name.classList.add("original-price"),name.innerHTML=element.name,elementDiv.appendChild(name);var brand=document.createElement("div");brand.classList.add(selector+"-container__element_brand"),element.brand&&element.brand!=element.brand||name.classList.add("brand"),void 0===element.brand?brand.innerHTML="":brand.innerHTML=element.brand,elementDiv.appendChild(brand);var price=document.createElement("div");if(price.classList.add(selector+"-container__element_price"),element.product_sales_price&&element.product_sales_price!=element.product_price||price.classList.add("original-price"),price.innerText=null!==currencyConfig?formatCurrency(element.product_price,currencyConfig):element.product_price,elementDiv.appendChild(price),element.product_sales_price&&element.product_sales_price!=element.product_price){var salesPrice=document.createElement("div");salesPrice.classList.add(selector+"-container__element_sales_price"),salesPrice.innerText=null!==currencyConfig?formatCurrency(element.product_sales_price,currencyConfig):element.product_sales_price,elementDiv.appendChild(salesPrice);var salesDiscount=document.createElement("div");salesDiscount.classList.add(selector+"-container__element_sales_discount");var priceNumber=parseFloat(element.product_price.replace(/[^\d.,]/g,"").split(",").join(".")),salesPriceNumber=parseFloat(element.product_sales_price.replace(/[^\d.,]/g,"").split(",").join(".")),discountPercent=Math.round((priceNumber-salesPriceNumber)/priceNumber*100);salesDiscount.innerHTML="<span>"+discountPercent+"</span><span>%</span>",elementDiv.appendChild(salesDiscount)}if(null!=productScript&&""!=productScript.trim())try{eval("(function(productDiv,selector){"+productScript+"})(elementDiv,selector);")}catch(e){console.warn(e)}})),containerDiv.appendChild(flexDiv);var buttonsDivL=null,buttonsDivR=null;if(!mobile){buttonsDivL=document.createElement("div"),buttonsDivL.style.display="flex",buttonsDivL.style.opacity="0",buttonsDivL.style.backgroundColor="#cccccc",buttonsDivL.style.height="50px",buttonsDivL.style.transition="opacity 500ms",buttonsDivL.style.top="calc(50% - 25px)",buttonsDivL.style.flexDirection="column",buttonsDivL.style.justifyContent="center",buttonsDivL.style.padding="0 3px",buttonsDivL.style.borderRadius="3px",buttonsDivL.style.left="2px",buttonsDivL.style.boxShadow="0 0 1px 1px grey",buttonsDivR=buttonsDivL.cloneNode(!0),buttonsDivR.style.left="",buttonsDivR.style.right="2px",buttonsDivL.classList.add(selector+"_buttons__left"),buttonsDivR.classList.add(selector+"_buttons__right");var leftButton=document.createElement("img"),rightButton=document.createElement("img");buttonsDivL.appendChild(leftButton),buttonsDivR.appendChild(rightButton),mainDiv.addEventListener("mouseenter",(function(){buttonsDivL.style.opacity="1",buttonsDivR.style.opacity="1"})),mainDiv.addEventListener("mouseleave",(function(){buttonsDivL.style.opacity="0",buttonsDivR.style.opacity="0"}))}if(mobile){var css="."+selector+"-container{scroll-behavior:smooth;overflow:unset;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}."+selector+"-container::-webkit-scrollbar{width:0;height:0}",style=document.createElement("style");style.innerHTML=css,mainDiv.appendChild(style)}var elementCount=contentList.length,tempValue=elementWidth*elementCount+marginWidth*(elementCount-1);function shiftCurrent(e){var t,n=0;return elementList.forEach((function(e){e.classList.contains("current")&&(t=n),n++})),"right"==e?t==elementCount-containerSize?(elementList[t].classList.remove("current"),elementList[0].classList.add("current")):(elementList[t].classList.remove("current"),elementList[t+1].classList.add("current")):"left"==e&&(0==t?(elementList[t].classList.remove("current"),elementList[elementCount-containerSize].classList.add("current")):(elementList[t].classList.remove("current"),elementList[t-1].classList.add("current"))),t}function shiftLeft(e){if((!0!==e||!insideDiv)&&"none"!==mainDiv.style.display){var t=containerDiv;if(t){var n=parseInt(t.style.left);n+=shiftWidth,t.style.left=n+"px",0==shiftCurrent("left")&&(t.style.left=(containerSize-elementCount)*shiftWidth+"px")}}}function shiftRight(e){if((!0!==e||!insideDiv)&&"none"!==mainDiv.style.display){var t=containerDiv;if(t){var n=parseInt(t.style.left);n-=shiftWidth,t.style.left=n+"px",shiftCurrent("right")==elementCount-containerSize&&(t.style.left="0px")}}}function shiftRightMobile(e){if((!0!==e||!insideDiv)&&"none"!==mainDiv.style.display){var t=containerDiv;if(t){var n=t.getBoundingClientRect().width,i=t.scrollLeft;(i+=shiftWidth)%shiftWidth>0&&(i-=i%shiftWidth),t.scrollLeft=i;shiftCurrent("right");t.scrollLeft+n>=t.scrollWidth&&(t.scrollLeft=0)}}}1==contentList.length&&headerWidth>tempValue?(flexDiv.style.width=headerWidth+1+"px",flexDiv.style.justifyContent="center"):flexDiv.style.width=elementWidth*elementCount+marginWidth*(elementCount-1)+"px",mainDiv.style.display="block",mainDiv.appendChild(headerDiv),mainDiv.appendChild(containerDiv),mobile||(mainDiv.appendChild(buttonsDivL),mainDiv.appendChild(buttonsDivR)),mobile||(buttonsDivL.addEventListener("click",shiftLeft),buttonsDivR.addEventListener("click",shiftRight)),recommendationIntervalList=recommendationIntervalList.filter((function(e){return!e[selector]||(clearInterval(e[selector]),!1)})),mobile?recommendationIntervalList.push({[selector]:setInterval((function(){shiftRightMobile(!0)}),3e3)}):recommendationIntervalList.push({[selector]:setInterval((function(){shiftRight(!0)}),3e3)});var parentDivObj=(width=0,height=0,{setWidth:function(e){width=e},setHeight:function(e){height=e},getWidth:function(){return width},getHeight:function(){return height}}),width,height;function resizeFunc(e,t){var n,i,r=null;"number"==typeof e&&"number"==typeof t?(n=e,i=t):(e?(i=e.target.innerHeight,n=e.target.innerWidth):(i=window.innerHeight,n=window.innerWidth),parentDivObj.setHeight(i),parentDivObj.setWidth(n)),(r=n<i?renderVerticalPreview(contentList,n,i,selector,title,type,previewObj,mainDiv,campaignId,campaignName,appendUTM,shadowDiv):renderHorizontalPreview(contentList,n,i,selector,title,type,previewObj,mainDiv,campaignId,campaignName,appendUTM,shadowDiv)).style.display="none",(n<i?n:i)<=200?(mainDiv.style.display="none",r.style.display="block"):(mainDiv.style.display="block",r.style.display="none"),containerSize=Math.ceil(n/Math.round((elementWidth*elementCount+marginWidth*(elementCount-1))/elementCount))-1,contSize&&contSize>0&&contSize<containerSize&&(containerSize=parseInt(contSize)),containerSize>contentList.length&&(containerSize=contentList.length);var o=elementWidth*containerSize+marginWidth*(containerSize-1);1==contentList.length&&headerWidth>o?mainDiv.style.width=headerWidth+1+"px":mainDiv.style.width=elementWidth*containerSize+marginWidth*(containerSize-1)+"px",mobile&&(containerDiv.style.width=mainDiv.style.width);var a,l=0;if(elementList.forEach((function(e){e.classList.contains("current")&&(a=l),l++})),elementCount-a<containerSize)for(var c=elementCount-a;c<containerSize;c++)shiftLeft()}window.addEventListener("resize",resizeFunc),resizeFuncList=resizeFuncList.filter((function(e){return!e[selector]||(window.removeEventListener("resize",e[selector]),!1)})),resizeFuncList.push({[selector]:resizeFunc}),resizeFunc(),setInterval((function(){var e=shadowDiv.parentElement.getBoundingClientRect().width,t=shadowDiv.parentElement.getBoundingClientRect().height;e>0&&t>0&&(parentDivObj.getWidth()!=e||parentDivObj.getHeight()!=t)&&(parentDivObj.setWidth(e),parentDivObj.setHeight(t),resizeFunc(e,t))}),250),saveActivity(0,type,campaignId,campaignName)}));var shadowDiv=document.createElement("div"),shadow=shadowDiv.attachShadow({mode:"open"}),emptyShadowDiv=document.createElement("div");mainDiv.insertAdjacentElement("beforebegin",shadowDiv),emptyShadowDiv.appendChild(mainDiv),shadow.appendChild(emptyShadowDiv)}function renderRecommendation(e,t,n,i,r,o,a,l,c,s,d,u,p,m,v,h,f,g,_){t=t.split("<rvts_recommendation_selector>").join(a+"_"+r),e.classList.remove(a),e.classList.add(a+"_"+r);var y=e.querySelectorAll("style");e.innerHTML="",y.forEach((t=>e.appendChild(t)));var w=document.createElement("style");if(w.innerHTML=t,e.appendChild(w),130==l){var C=getProductsFromCookie();C=C.map((function(e){return e[0]})),i&&i>0&&(C=C.filter((function(e,t){return t<i}))),C.length>0&&fillContainer(e,C,s,l,c,n,a+"_"+r,r,o,u,p,m,v,h,null,d)}else{var D=null;if([90,100,120,150].includes(parseInt(l)))if(window.PRODUCT_DATA&&1==PRODUCT_DATA.length)D=PRODUCT_DATA[0].id;else if(window.productDetailModel){D=productDetailModel.id}var L=rcGetCookie("revotas_web_push_user");fetch("https://"+d+"/rrcp/imc/recommendation/get_recommendation.jsp?cust_id="+custId+"&type="+l+(D?"&product_id="+D:"")+(L?"&user_id="+L:"")+(f?"&filter_id="+f:"")+(g?"&exclude_recently_viewed="+g:"")+(_?"&exclude_recently_purchased="+_:"")).then((function(e){return e.json()})).then((function(t){t=(t=t.filter((function(e){return null!=e}))).map((function(e){return e[0]})),i&&i>0&&(t=t.filter((function(e,t){return t<i}))),t.length>0&&fillContainer(e,t,s,l,c,n,a+"_"+r,r,o,u,p,m,v,h,L,d)}))}}async function getConfigs(e){if("undefined"!=typeof PAGE_TYPE){var t=getAllConfigs(),n=getProductsFromCookie().length,i=rcGetCookie("revotas_web_push_user"),r=i&&n>=5;if("home"===PAGE_TYPE)r?(await populateRecoContainer(t,i,null,null,70),await populateRecoContainer(t,i,null,null,110,130)):(await populateRecoContainer(t,i,null,null,70),await populateRecoContainer(t,i,null,null,140));else if("category"===PAGE_TYPE){var o=CATEGORY_DATA.name;r?(await populateRecoContainer(t,i,null,o,110),await populateRecoContainer(t,i,null,o,50)):await populateRecoContainer(t,i,null,o,50)}else if("product"===PAGE_TYPE)if(r&&"undefined"!=typeof rvtsSWCurrentProduct){var a=rvtsSWCurrentProduct.p_id,l=await populateRecoContainer(t,i,a,null,90),c=await populateRecoContainer(t,i,a,null,100),s=await populateRecoContainer(t,i,null,null,110),d=await populateRecoContainer(t,i,a,null,120),u=await populateRecoContainer(t,i,a,null,150);if(!(l.length||c.length||s.length||d.length||u.length)){o=null;"undefined"!=typeof PRODUCT_DATA&&1===PRODUCT_DATA.length&&(o=PRODUCT_DATA[0].category),await populateRecoContainer(t,i,null,null,50)}}else{o=null;if("undefined"!=typeof PRODUCT_DATA&&1===PRODUCT_DATA.length&&(o=PRODUCT_DATA[0].category),await populateRecoContainer(t,i,null,o,50),"undefined"!=typeof rvtsSWCurrentProduct){a=rvtsSWCurrentProduct.p_id;await populateRecoContainer(t,i,a,null,100)}}else if("cart"===PAGE_TYPE||"order"===PAGE_TYPE){var p=[];"undefined"!=typeof rvtsCart&&rvtsCart.product&&rvtsCart.product.length>0?p=rvtsCart.product:"undefined"!=typeof RvstData&&RvstData.product&&RvstData.product.length>0&&(p=RvstData.product);var m={},v=[],h=[],f=[],g=[];p.forEach((function(e){var t=e.pId,n=e.category_name;m[t]={category_name:n}}));var _=0,y=0,w=0,C=0;for(var D in m){var L=await populateRecoContainer(t,i,D,null,90,null,!0),b=await populateRecoContainer(t,i,D,null,100,null,!0),R=await populateRecoContainer(t,i,D,null,120,null,!0),S=await populateRecoContainer(t,i,D,null,150,null,!0);L=L.filter((e=>{var t=!1;return p.forEach((n=>{n.pId==e.p_id&&(t=!0)})),!t})),b=b.filter((e=>{var t=!1;return p.forEach((n=>{n.pId==e.p_id&&(t=!0)})),!t})),R=R.filter((e=>{var t=!1;return p.forEach((n=>{n.pId==e.p_id&&(t=!0)})),!t})),S=S.filter((e=>{var t=!1;return p.forEach((n=>{n.pId==e.p_id&&(t=!0)})),!t})),m[D].buy_also=L,m[D].similar=b,m[D].view_also=R,m[D].bought_together=S,_+=L.length>0?1:0,y+=b.length>0?1:0,w+=R.length>0?1:0,C+=S.length>0?1:0}var E=0==_?0:Math.ceil(10/_),P=0==y?0:Math.ceil(10/y),x=0==w?0:Math.ceil(10/w),I=0==C?0:Math.ceil(10/C);for(var D in m){L=m[D].buy_also,b=m[D].similar,R=m[D].view_also,S=m[D].bought_together;var T=0;L.forEach((e=>{var t=e.p_id;0===v.filter((e=>e.p_id==t)).length&&T<E&&(v.push(e),T++)}));var k=0;b.forEach((e=>{var t=e.p_id;0===h.filter((e=>e.p_id==t)).length&&k<P&&(h.push(e),k++)}));var A=0;R.forEach((e=>{var t=e.p_id;0===f.filter((e=>e.p_id==t)).length&&A<x&&(f.push(e),A++)}));var M=0;S.forEach((e=>{var t=e.p_id;0===g.filter((e=>e.p_id==t)).length&&M<I&&(g.push(e),M++)}))}v.length>0&&(v=v.slice(0,10),await populateRecoContainer(t,i,D,null,90,null,null,v)),h.length>0&&(h=h.slice(0,10),await populateRecoContainer(t,i,D,null,100,null,null,h)),f.length>0&&(f=f.slice(0,10),await populateRecoContainer(t,i,D,null,120,null,null,f)),g.length>0&&(g=g.slice(0,10),await populateRecoContainer(t,i,D,null,150,null,null,g))}else"404"!==PAGE_TYPE&&"search"!==PAGE_TYPE||(r?await populateRecoContainer(t,i,null,null,110,130):await populateRecoContainer(t,i,null,null,50))}Object.values(queryList).forEach((function(t){Array.from(document.querySelectorAll("."+t)).forEach((function(n){var i=n.getAttribute("force"),r=n.getAttribute("campaign_id");!r||"undefined"!=typeof PAGE_TYPE&&"true"!==i||fetch("https://f.revotas.com/frm/recommendation/get_recommendation_config_new.jsp?cust_id="+e+"&camp_id="+r).then((function(e){return e.json()})).then((function(e){if("object"==typeof e&&1==e.status){var i=decodeURIComponent(e.template_css),o=e.container_size,a=e.products_num_block,l=e.camp_type,c=e.fallback_camp_type,s=e.camp_name,d=e.rcp_link,u=e.camp_title,p=e.currency_config,m=e.camp_add_to_cart,v=decodeURIComponent(e.add_to_cart_script),h=decodeURIComponent(e.product_script),f=e.append_utm,g=e.filter_id,_=e.exclude_recently_viewed,y=e.exclude_recently_purchased;"null"!=g&&0!=g||(g=null),"null"==f&&(f="1"),"null"==_&&(_="0"),"null"==y&&(y="0"),renderRecommendation(n,i,o,a,r,s,t,l,c,u,d,p,m,v,h,f,g,_,y)}}))}))}))}function getAllConfigs(){return fetch("https://f.revotas.com/frm/recommendation/get_all_recommendation_config.jsp?cust_id="+custId).then((function(e){return e.json()})).then((e=>e.filter((e=>1==e.status))))}async function getCampaignProducts(e,t,n,i,r,o,a,l){if(130==e)return getProductsFromCookie().map((function(e){return e[0]}));var c=null,s=getProductsFromCookie();return c={},s.length>0&&1==a&&(c.excludeList=s.map((e=>e[0].p_id))),i&&(c.categoryId=i),c=JSON.stringify(c),await fetch("https://"+r+"/rrcp/imc/recommendation/get_recommendation.jsp?cust_id="+custId+"&type="+e+(t?"&user_id="+t:"")+(n?"&product_id="+n:"")+(o?"&filter_id="+o:"")+(a?"&exclude_recently_viewed="+a:"")+(l?"&exclude_recently_purchased="+l:""),{method:"POST",headers:{"Content-Type":"application/json"},body:c}).then((function(e){return e.json()})).then((function(t){return t=[100].includes(parseInt(e))?t.slice(0,10):(t=(t=t.filter((function(e){return null!=e}))).map((function(e){return e[0]}))).slice(0,10)})).catch((()=>[]))}async function populateRecoContainer(e,t,n,i,r,o,a,l){var c=queryList[r],s=queryList[o],d=[],u=null,p=new Promise(((e,t)=>{u=e})),m=await e;for(var v of m){var h=Array.from(document.querySelectorAll("."+c));for(var f of h)if(f.getAttribute("campaign_id")===v.camp_id&&"true"!==f.getAttribute("force")){var g=decodeURIComponent(v.template_css),_=v.container_size,y=v.products_num_block,w=v.camp_type,C=v.rcp_link,D=v.camp_id,L=v.camp_name,b=v.fallback_camp_type,R=v.camp_title,S=v.currency_config,E=v.camp_add_to_cart,P=decodeURIComponent(v.add_to_cart_script),x=decodeURIComponent(v.product_script);d=l;var I=v.filter_id,T=v.append_utm,k=v.exclude_recently_viewed,A=v.exclude_recently_purchased;if("null"!=I&&0!=I||(I=null),"null"==T&&(T="1"),"null"==k&&(k="0"),"null"==A&&(A="0"),d||(d=await getCampaignProducts(w,t,n,i,C,I,k,A)),y&&y>0&&(d=d.filter((function(e,t){return t<y}))),a){u(d);continue}if(d&&d.length>0){f.getAttribute("force");g=g.split("<rvts_recommendation_selector>").join(c+"_"+D),f.classList.remove(c),f.classList.add(c+"_"+D);var M=f.querySelectorAll("style");f.innerHTML="",M.forEach((e=>f.appendChild(e)));var j=document.createElement("style");j.innerHTML=g,f.appendChild(j),fillContainer(f,d,R,w,b,_,c+"_"+D,D,L,S,E,P,x,T,t,C),u(d)}}}if(o&&0==d.length){var O=await e.then((e=>e.filter((e=>e.camp_type==o))[0]));if(O){g=decodeURIComponent(O.template_css),_=O.container_size,y=O.products_num_block,w=O.camp_type,C=O.rcp_link,D=O.camp_id,L=O.camp_name,R=O.camp_title,S=O.currency_config,E=O.camp_add_to_cart,P=decodeURIComponent(O.add_to_cart_script),x=decodeURIComponent(O.product_script),I=O.filter_id,T=O.append_utm,k=O.exclude_recently_viewed,A=O.exclude_recently_purchased;"null"!=I&&0!=I||(I=null),"null"==T&&(T="1"),"null"==k&&(k="0"),"null"==A&&(A="0");var W=await getCampaignProducts(o,t,n,i,C,I,k,A);y&&y>0&&(W=W.filter((function(e,t){return t<y}))),W&&W.length>0&&document.querySelectorAll("."+s).forEach((e=>{if("true"!==e.getAttribute("force")){g=g.split("<rvts_recommendation_selector>").join(s+"_"+D),e.classList.remove(s),e.classList.add(s+"_"+D);var t=e.querySelectorAll("style");e.innerHTML="",t.forEach((t=>e.appendChild(t)));var n=document.createElement("style");n.innerHTML=g,e.appendChild(n),fillContainer(e,W,R,w,null,_,s+"_"+D,D,L,S,E,P,x,T,null,null),u(W)}}))}}return u([]),p}"undefined"==typeof rvtsRecoPreviewMode&&getConfigs(custId);